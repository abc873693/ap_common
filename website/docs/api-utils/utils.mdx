---
sidebar_position: 1
---

# 共用函式

### showToast

顯示 Android 風格的 toast 提示字，使用 Package [toast](https://pub.dev/packages/toast) 實作

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| context | BuildContext | Flutter Widget context |
| message | String | Header點擊事件 |
| gravity | int | 顯示位置，預設為 `Toast.Bottom` |

### pushCupertinoStyle

以 `Cupertino` 風格開啟頁面

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| context | BuildContext | Flutter Widget context |
| page | Widget | 開啟頁面 |

### handleDioError

處理 [Dio](https://pub.dev/packages/dio) 套件中的錯誤，並以 `showToast` 顯示相關提示字

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| context | BuildContext | Flutter Widget context |
| dioError | DioError | Dio 錯誤類別 |
| gravity | int | toast 顯示位置 |

### launchUrl

開啟 URL，以 [url_launcher](https://pub.dev/packages/url_launcher) 實作

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| url | String | URL |

### callPhone

播打電話，會將#xxx(yyy)格式更改成tel:xxx,yyy，以 [url_launcher](https://pub.dev/packages/url_launcher) 實作

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| url | String | URL |

### shareTo

呼叫原生分享功能，分享格式 `${分享內容}\n\nSend from ${App名稱} ${作業系統名稱}`，以 [share](https://pub.dev/packages/share) 實作

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| content | String | 分享內容 |

### launchFbFansPage

開啟 Facebook 粉絲專頁，會先以 app link 方式開啟，失敗才會以瀏覽器開啟，以 [url_launcher](https://pub.dev/packages/url_launcher) 實作

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| context | BuildContext | Flutter Widget context |
| fansPageId | String | 粉絲專頁 id |

### showAppReviewDialog

詢問是否評分，同意並呼叫 `openAppReview` 開啟原生評分功能

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| context | BuildContext | Flutter Widget context |
| defaultUrl | String | 無原生API則開啟網址 |

### openAppReview

開啟原生評分功能，若無原生API則開啟 `defaultUrl`，以 [in_app_review](https://pub.dev/packages/in_app_review) 呼叫原生評分功能，以 [url_launcher](https://pub.dev/packages/url_launcher) 開啟連結

| 參數名稱                         | 型態                             | 描述                             |
| ------------------------------- | ------------------------------- | ------------------------------- |
| defaultUrl | String | 無原生API則開啟網址 |
