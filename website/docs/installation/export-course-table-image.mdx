---
sidebar_position: 6
---

# 匯出課表圖片

實作可參考 [`ApUtils.saveImage`](../api-utils/utils#saveimage) 中

:::caution 注意
若未設定此頁面會影響以下功能

- [課表骨架](../api-scaffolds/course-scaffold) 中的匯出課表圖片

:::

## 設定

### Android

至 `android/app/src/main/AndroidManifest.xml` 增加相關權限設定

```xml title='AndroidManifest.xml'
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.examlpe.ap_common">

    <!-- Permissions options for the `storage` group -->
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO" />
    <uses-permission android:name="android.permission.READ_MEDIA_VISUAL_USER_SELECTED" />

    <application
        android:name="io.flutter.app.FlutterApplication"
        android:label="ap_common_example"
        android:icon="@mipmap/ic_launcher">
    </application>
</manifest>
```

:::caution 注意
因為目前 Play Store 自 2024/08/31 以後 不接受目標版本 `33` 以前的，故舊版必須遷移
:::

### iOS

在 `ios/Runner/Info.plist` `dict` 中加入

```xml title='Info.plist'
  <key>NSPhotoLibraryUsageDescription</key>
  <string>Would be export course table image.</string>
```

字串中的說明為取得權限時會出現的文字說明，可根據你的 App 語言做修改

### macOS

